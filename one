SOURCE_KV="your-source-keyvault-name"
TARGET_KV="your-target-keyvault-name"

secret_names=$(az keyvault secret list --vault-name $SOURCE_KV --query "[].name" -o tsv)

for secret_name in $secret_names; do
    secret_value=$(az keyvault secret show --vault-name $SOURCE_KV --name $secret_name --query value -o tsv)
    az keyvault secret set --vault-name $TARGET_KV --name $secret_name --value "$secret_value"
done

echo "Migration complete"

